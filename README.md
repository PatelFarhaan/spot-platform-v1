config.json -> SSOT
SCRIPT -> BAKE IMAGE WITH GITLAB RUNNERS
PACKER -> CUSTOM BAKED IMAGES
TF -> PROVISION EC2, SG, LB, TG, Launch Config, ASG

Get all public subnets of a VPC and attach it to the load balancer
Get the latest price of spot and update the config
Create a baked images with all push event/ agents and supply the name of consumer in users data for baked images
Crate multiple launch config for each az?

Check the cheapest price of the instance in the AZ and launch the on-demand there
Instance warnup