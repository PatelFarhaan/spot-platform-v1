# <==================================================================================================>
#                                      IMPORTS
# <==================================================================================================>
from flask import Blueprint, jsonify

# <==================================================================================================>
#                                     BLUEPRINT
# <==================================================================================================>
errorpage_blueprint = Blueprint('error', __name__)


# <==================================================================================================>
#                                     ERROR 400
# <==================================================================================================>
@errorpage_blueprint.app_errorhandler(400)
def error_400(e):
    print(e)
    return_obj = {
        "result": False,
        "msg": e.description
    }
    return jsonify(return_obj), 400


# <==================================================================================================>
#                                     ERROR 403
# <==================================================================================================>
@errorpage_blueprint.app_errorhandler(403)
def error_403(e):
    print(e)
    return_obj = {
        "result": False,
        "msg": "forbidden access"
    }
    return jsonify(return_obj), 403


# <==================================================================================================>
#                                     ERROR 404
# <==================================================================================================>
@errorpage_blueprint.app_errorhandler(404)
def error_404(e):
    print(e)
    return_obj = {
        "result": False,
        "msg": e.description if e.description else "not found",
    }
    return jsonify(return_obj), 404


# <==================================================================================================>
#                                     ERROR 405
# <==================================================================================================>
@errorpage_blueprint.app_errorhandler(405)
def error_405(e):
    print(e)
    return_obj = {
        "result": False,
        "msg": "method not allowed",
    }
    return jsonify(return_obj), 405


# <==================================================================================================>
#                                     ERROR 500
# <==================================================================================================>
@errorpage_blueprint.app_errorhandler(500)
def error_500(e):
    print(f"Error: {e}")
    return_obj = {
        "result": False,
        "msg": "internal server error"
    }
    return jsonify(return_obj), 500
